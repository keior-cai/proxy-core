socket-proxy


[system-proxy] -> [proxy-local] -> [proxy-server] -> [target-server]

### protocol
[system-proxy] -> [proxy-local]

sue socks5 or http proxy;

#### socks5 handshake protocol

step one

> system-proxy

The system proxy will send a socks5 handshake protocol request

first byte is socks5 protocol version;
second byte is socks5 support number of auth method type
third byte to 255 byte is socks5 method
```
+-------------------------------------------------+
|  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 05 01 00                                        |...             |
+--------+-------------------------------------------------+----------------+
```

> protocol-local

protocol-local will response system-proxy use method of auth

response

```
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 05 00                                           |..              |
+--------+-------------------------------------------------+----------------+
```

system-protocol

send 

```
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 05 01 00 01 0e 77 68 fe 00 50                   |.....wh..P      |
+--------+-------------------------------------------------+----------------+
```

proxy-local

response

```
         +-------------------------------------------------+
         |  0  1  2  3  4  5  6  7  8  9  a  b  c  d  e  f |
+--------+-------------------------------------------------+----------------+
|00000000| 05 00 00 01 00 00 00 00 00 00                   |..........      |
+--------+-------------------------------------------------+----------------+
```

